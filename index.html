<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Elite Coin Miner</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #000; color: #fff; font-family: 'Arial', sans-serif; text-align: center; margin: 0; overflow: hidden; user-select: none; }
        .app { height: 100vh; display: flex; flex-direction: column; justify-content: space-around; background: radial-gradient(circle, #222 0%, #000 100%); }
        .score { font-size: 3rem; font-weight: bold; color: #f1c40f; text-shadow: 0 0 20px rgba(241, 196, 15, 0.5); }
        .coin-container { display: flex; justify-content: center; align-items: center; }
        .coin { width: 250px; height: 250px; background: url('https://cdn-icons-png.flaticon.com/512/5968/5968382.png'); /* Moneda dorada */
                background-size: cover; border-radius: 50%; box-shadow: 0 0 50px #d4af37; cursor: pointer; transition: transform 0.1s; }
        .coin:active { transform: scale(0.95); }
        .energy-bar { width: 80%; height: 20px; background: #333; margin: 0 auto; border-radius: 10px; overflow: hidden; border: 1px solid #555; }
        .energy-fill { width: 100%; height: 100%; background: linear-gradient(90deg, #f1c40f, #e67e22); transition: width 0.3s; }
    </style>
</head>
<body>
    <div class="app">
        <div class="score" id="score">0</div>
        
        <div class="coin-container">
            <div class="coin" id="coin" onclick="tap()"></div>
        </div>

        <div>
            <p>⚡ ENERGÍA: <span id="e-text">1000</span>/1000</p>
            <div class="energy-bar"><div class="energy-fill" id="e-fill"></div></div>
        </div>
        
        <p style="color: #555;">PRÓXIMAMENTE EL AIRDROP...</p>
    </div>

    <script>
        const tg = window.Telegram.WebApp; tg.expand();
        let coins = 0;
        let energy = 1000;
        const sfx = new Audio('https://www.soundjay.com/buttons/sounds/button-37.mp3');

        function tap() {
            if (energy <= 0) return;
            
            coins += 1;
            energy -= 1;
            sfx.play();
            
            document.getElementById('score').innerText = coins;
            document.getElementById('e-text').innerText = energy;
            document.getElementById('e-fill').style.width = (energy / 10) + "%";

            // Enviar datos al bot cada 10 clicks para no saturar
            if (coins % 10 === 0) {
                tg.sendData(JSON.stringify({clicks: 10}));
            }
        }

        // Recuperar energía poco a poco
        setInterval(() => {
            if (energy < 1000) {
                energy += 1;
                document.getElementById('e-text').innerText = energy;
                document.getElementById('e-fill').style.width = (energy / 10) + "%";
            }
        }, 1000);
    </script>
</body>
</html>
