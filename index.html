<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Elite Multi-Casino</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #000; color: #ffd700; font-family: 'Arial', sans-serif; text-align: center; margin: 0; padding: 10px; }
        .casino-container { border: 4px solid #ffd700; border-radius: 20px; background: #111; padding: 15px; min-height: 90vh; }
        .menu-juegos { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
        .card-juego { border: 2px solid gold; padding: 15px; border-radius: 15px; width: 80px; cursor: pointer; background: #222; }
        .game-area { display: none; margin-top: 20px; }
        .display-visual { font-size: 70px; margin: 20px; min-height: 100px; transition: 0.1s; }
        .animar { animation: mov 0.1s infinite; }
        @keyframes mov { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        input { width: 150px; padding: 10px; border-radius: 10px; border: 1px solid gold; background: #000; color: #fff; font-size: 20px; margin: 10px; }
        button { background: linear-gradient(#ffd700, #b8860b); color: #000; border: none; padding: 15px 30px; font-weight: bold; border-radius: 10px; width: 90%; font-size: 20px; }
    </style>
</head>
<body>
    <div class="casino-container">
        <h2>üé∞ ELITE MULTI-CASINO üé∞</h2>
        
        <div id="lobby" class="menu-juegos">
            <div class="card-juego" onclick="abrir('slots')">üé∞<br>Slots</div>
            <div class="card-juego" onclick="abrir('dados')">üé≤<br>Dados</div>
            <div class="card-juego" onclick="abrir('moneda')">ü™ô<br>Moneda</div>
        </div>

        <div id="game-area" class="game-area">
            <div id="visual" class="display-visual">‚ùì</div>
            <p>Apuesta (Bs):</p>
            <input type="number" id="apuesta" value="10" min="10">
            <button onclick="jugar()">¬°APOSTAR!</button>
            <p id="status"></p>
            <button style="background: grey; margin-top: 20px;" onclick="volver()">üè† VOLVER</button>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        let juegoActual = '';
        
        // SONIDOS
        const s_spin = new Audio('https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3');
        const s_win = new Audio('https://www.soundjay.com/human/sounds/applause-01.mp3');

        function abrir(tipo) {
            juegoActual = tipo;
            document.getElementById('lobby').style.display = 'none';
            document.getElementById('game-area').style.display = 'block';
        }

        function volver() {
            document.getElementById('lobby').style.display = 'flex';
            document.getElementById('game-area').style.display = 'none';
        }

        function jugar() {
            const monto = document.getElementById('apuesta').value;
            const visual = document.getElementById('visual');
            const status = document.getElementById('status');

            if (monto < 10) return alert("M√≠nimo 10 Bs");

            // MANDAR SE√ëAL AL BOT PARA COBRAR (Esto descuenta la plata)
            tg.sendData(JSON.stringify({monto: monto}));

            // ANIMACI√ìN Y SONIDO
            s_spin.play();
            visual.classList.add('animar');
            status.innerText = "Procesando...";

            setTimeout(() => {
                visual.classList.remove('animar');
                let gano = false;

                if (juegoActual === 'slots') {
                    const icons = ["üçí","üíé","7Ô∏è‚É£","üîî"];
                    let r1 = icons[Math.floor(Math.random()*4)];
                    let r2 = icons[Math.floor(Math.random()*4)];
                    let r3 = icons[Math.floor(Math.random()*4)];
                    visual.innerText = r1+r2+r3;
                    if(r1==r2 && r2==r3) gano = true;
                } else if (juegoActual === 'dados') {
                    let d = Math.floor(Math.random()*6)+1;
                    visual.innerText = "üé≤ " + d;
                    if(d >= 5) gano = true;
                } else {
                    let m = Math.random() > 0.5 ? "ü™ô CARA" : "ü™ô CRUZ";
                    visual.innerText = m;
                    if(Math.random() > 0.6) gano = true;
                }

                if (gano) {
                    status.innerText = "¬°GANASTE! üéâ";
                    status.style.color = "lime";
                    s_win.play();
                } else {
                    status.innerText = "PERDISTE -" + monto + " Bs";
                    status.style.color = "red";
                }
            }, 1500);
        }
    </script>
</body>
    </html>
    
