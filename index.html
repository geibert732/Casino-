<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casino Multi-Juegos</title>
    <style>
        body { background: #0b0d17; color: white; text-align: center; font-family: 'Segoe UI', sans-serif; }
        .game-card { background: #1a1f36; margin: 15px; padding: 20px; border-radius: 15px; border: 2px solid #ffd700; cursor: pointer; transition: 0.3s; }
        .game-card:hover { transform: scale(1.05); background: #252d4a; }
        #game-area { display: none; padding: 20px; }
        .rodillos { font-size: 60px; margin: 20px; letter-spacing: 10px; }
        input { width: 80%; padding: 10px; margin: 10px 0; border-radius: 10px; border: none; font-size: 20px; }
        button { background: #ffd700; color: black; border: none; padding: 15px 30px; font-weight: bold; border-radius: 10px; width: 100%; cursor: pointer; }
        .back-btn { background: #ff4d4d; margin-top: 20px; }
    </style>
</head>
<body>
    <div id="lobby">
        <h1>üé∞ ELITE CASINO üé∞</h1>
        <div class="game-card" onclick="openGame('slots')">üé∞ Tragamonedas</div>
        <div class="game-card" onclick="openGame('dice')">üé≤ Dados R√°pidos</div>
        <div class="game-card" onclick="openGame('coin')">ü™ô Cara o Cruz</div>
    </div>

    <div id="game-area">
        <h2 id="game-title">Juego</h2>
        <div id="visuals" class="rodillos">üé∞</div>
        <input type="number" id="monto" value="10" min="10" max="5000">
        <button onclick="play()">APOSTAR / GIRAR</button>
        <p id="result-text"></p>
        <button class="back-btn" onclick="goBack()">üè† Volver al Men√∫</button>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        const tg = window.Telegram.WebApp;
        let currentGame = '';

        function openGame(type) {
            currentGame = type;
            document.getElementById('lobby').style.display = 'none';
            document.getElementById('game-area').style.display = 'block';
            document.getElementById('game-title').innerText = type.toUpperCase();
            document.getElementById('result-text').innerText = '';
        }

        function goBack() {
            document.getElementById('lobby').style.display = 'block';
            document.getElementById('game-area').style.display = 'none';
        }

        function play() {
            const monto = document.getElementById('monto').value;
            if (monto < 10) return alert("M√≠nimo 10 Bs");

            let win = false;
            let visual = "";

            if (currentGame === 'slots') {
                const emoj = ["üçí","üíé","7Ô∏è‚É£","üçã"];
                let r1 = emoj[Math.floor(Math.random()*4)];
                let r2 = emoj[Math.floor(Math.random()*4)];
                let r3 = emoj[Math.floor(Math.random()*4)];
                visual = `${r1}${r2}${r3}`;
                win = (r1 === r2 && r2 === r3);
            } else if (currentGame === 'dice') {
                let d1 = Math.floor(Math.random()*6)+1;
                visual = `üé≤ ${d1}`;
                win = (d1 > 4); // Gana con 5 o 6
            } else {
                let side = Math.random() > 0.5 ? "ü™ô CARA" : "ü™ô CRUZ";
                visual = side;
                win = (Math.random() > 0.5);
            }

            document.getElementById('visuals').innerText = visual;
            
            if (!win) {
                document.getElementById('result-text').innerText = "Perdiste " + monto + " Bs ‚ùå";
                document.getElementById('result-text').style.color = "red";
                // Enviamos los datos sin cerrar la ventana
                tg.sendData(JSON.stringify({monto: monto})); 
            } else {
                document.getElementById('result-text').innerText = "¬°GANASTE! üéâ";
                document.getElementById('result-text').style.color = "lime";
            }
        }
    </script>
</body>
    </html>
    
