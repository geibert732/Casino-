<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Elite Gold Casino</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #000; color: gold; font-family: 'Arial', sans-serif; text-align: center; margin: 0; padding: 10px; overflow: hidden; }
        .casino-frame { border: 4px solid gold; border-radius: 20px; background: radial-gradient(circle, #222, #000); padding: 15px; height: 95vh; display: flex; flex-direction: column; justify-content: space-between; }
        .display { font-size: 80px; margin: 20px; min-height: 100px; text-shadow: 0 0 20px gold; }
        .btn-play { background: linear-gradient(#ffd700, #b8860b); color: black; border: none; padding: 20px; width: 90%; border-radius: 50px; font-size: 24px; font-weight: bold; cursor: pointer; box-shadow: 0 5px 15px rgba(255,215,0,0.4); }
        .btn-play:active { transform: scale(0.95); }
        input { width: 60%; padding: 10px; border-radius: 10px; border: 1px solid gold; background: #111; color: white; font-size: 20px; text-align: center; }
        .animar { animation: shake 0.1s infinite; }
        @keyframes shake { 0% { transform: translate(1px, 1px); } 50% { transform: translate(-1px, -2px); } 100% { transform: translate(1px, 1px); } }
    </style>
</head>
<body>
    <div class="casino-frame">
        <h2 style="margin:0;">ðŸŽ° ELITE GOLD ðŸŽ°</h2>
        
        <div id="lobby">
            <button onclick="iniciarMusica()" style="background:none; border:1px solid gold; color:gold; padding:5px; font-size:10px;">ðŸ”Š ACTIVAR SONIDO</button>
            <div style="display:flex; justify-content:center; gap:10px; margin-top:10px;">
                <button onclick="setGame('slots')">ðŸŽ°</button>
                <button onclick="setGame('dados')">ðŸŽ²</button>
                <button onclick="setGame('moneda')">ðŸª™</button>
            </div>
        </div>

        <div id="visual" class="display">ðŸŽ°</div>
        
        <div>
            <p style="margin:0;">Apuesta (Bs):</p>
            <input type="number" id="apuesta" value="10" min="10">
        </div>

        <button class="btn-play" onclick="jugar()">Â¡APOSTAR!</button>
        <p id="status" style="font-size:14px;"></p>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        let juegoActual = 'slots';

        // AUDIOS
        const musicaFondo = new Audio('https://www.soundjay.com/free-music/sounds/casino-lounge-1.mp3');
        musicaFondo.loop = true;
        const s_giro = new Audio('https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3');
        const s_win = new Audio('https://www.soundjay.com/human/sounds/applause-01.mp3');

        function iniciarMusica() { musicaFondo.play(); }
        function setGame(g) { juegoActual = g; document.getElementById('visual').innerText = g === 'slots' ? 'ðŸŽ°' : (g === 'dados' ? 'ðŸŽ²' : 'ðŸª™'); }

        async function jugar() {
            const monto = document.getElementById('apuesta').value;
            const visual = document.getElementById('visual');
            const status = document.getElementById('status');

            if (monto < 10) return;

            // EL SECRETO: Descontar sin salirse
            // Enviamos el dato al bot, pero no dejamos que Telegram cierre la App
            tg.sendData(JSON.stringify({monto: monto})); 
            
            // AnimaciÃ³n
            visual.classList.add('animar');
            s_giro.play();
            status.innerText = "Apostando...";

            setTimeout(() => {
                visual.classList.remove('animar');
                let gano = Math.random() > 0.7; // Probabilidad
                
                if(juegoActual === 'slots') {
                    const icons = ["ðŸ’","ðŸ’Ž","7ï¸âƒ£","ðŸ””"];
                    visual.innerText = icons[Math.floor(Math.random()*4)] + icons[Math.floor(Math.random()*4)] + icons[Math.floor(Math.random()*4)];
                } else if(juegoActual === 'dados') {
                    visual.innerText = "ðŸŽ² " + (Math.floor(Math.random()*6)+1);
                } else {
                    visual.innerText = Math.random() > 0.5 ? "ðŸª™ CARA" : "ðŸª™ CRUZ";
                }

                if(gano) {
                    status.innerText = "Â¡GANASTE! ðŸŽ‰";
                    status.style.color = "lime";
                    s_win.play();
                } else {
                    status.innerText = "Perdiste " + monto + " Bs";
                    status.style.color = "red";
                }
            }, 1000);
        }
    </script>
</body>
            </html>
            
